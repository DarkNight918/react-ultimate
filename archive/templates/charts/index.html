{% extends "base.html" %}

{% block head %}
  <title>Charts Dashboard</title>
{% endblock %}

{% block body %}
  <p>Diffs from reference:</p>
  <p>--</p>
  <div id="account-engagement"></div>

  <p>Diffs from reference:</p>
  <ul>
    <li>Columns &rarr; Bars (better for comparison, no diagonal captions)</li>
  </ul>
  <div id="top-users"></div>

  <p>Diffs from reference:</p>
  <ul>
    <li>Columns &rarr; Bars (better for comparison, no diagonal captions)</li>
    <li>No color difference (it holds no meaning and should be removed)</li>
  </ul>
  <div id="top-keywords"></div>
{% endblock %}

{% block scripts %}
  {{ super() }}

  <script src="/static/vendors/highcharts/highcharts.js"></script>

  <script>
    {# ACCOUNT ENGAGEMENT #}
    $(function () {
      var categories = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];

      var series = [{
        name: "Tweets",
        yAxis: 1,
        data: [0, 0, 195, 267, 219, 204, 211, 0],
        type: "column"
      }, {
        name: "Retweets",
        yAxis: 0,
        data: [0, 0, 8, 8, 9, 5, 10, 0],
        type: "line"
      }, {
        name: "Mentions",
        yAxis: 0,
        data: [15, 14, 92, 120, 114, 109, 99, 36],
        type: "line"
      } // TODO: replies and mentions may be added
      ];

      $('#account-engagement').highcharts({
        title: {
          text: "Account Engagement"
        },
        xAxis: {
          categories: categories,
          title: {
            text: null
          }
        },
        yAxis: [{
          min: 0,
          allowDecimals: false,
          title: {
            text: 'Retweets & Mentions',
{#            align: 'high'#}
          },
          {#labels: {
            overflow: 'justify'
          }#}
        }, {
          min: 0,
          allowDecimals: false,
          opposite: true,
          gridLineWidth: 0,
          title: {
              text: 'Tweets Sent',
              style: {
                  color: Highcharts.getOptions().colors[0]
              }
          },
          labels: {
{#          format: '{value} mm',#}
            style: {
                color: Highcharts.getOptions().colors[0]
            }
{#            overflow: 'justify'#}
          },
        }],
        plotOptions: {
          bar: {
            pointPadding: 0,
            borderWidth: 0,
            dataLabels: {
              enabled: true
            }
          }
        },
        legend: {
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'top',
          x: -40,
          y: 100,
          floating: true,
          borderWidth: 1,
          backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
          shadow: true
        },
        credits: {
          enabled: false
        },
        series: series
      });
    });

    {# TOP USERS #}
    $(function () {
      var categories = [
        'JasonLaCanfora',
        'BorisKodjoe',
        'ScottMonty',
        'thebrandbuilder',
        'chadkirchner',
        'FordService',
      ];

      var series = [{
        name: "Followers",
        yAxis: 1,
        data: [252836, 168329, 857613, 45120, 16644, 15879],
        index: 1,
      }, {
        name: "Your Replies",
        yAxis: 0,
        data: [2, 1, 1, 5, 2, 0],
        index: 0,
      }];

      $('#top-users').highcharts({
        chart: {
          type: "bar"
        },
        title: {
          text: "Top Users by # of Followers"
        },
        xAxis: {
          categories: categories,
          title: {
            text: null
          }
        },
        yAxis: [{
          min: 0,
          allowDecimals: false,
          title: {
            text: 'Replies',
{#            align: 'high'#}
          },
          {#labels: {
            overflow: 'justify'
          }#}
        }, {
          min: 0,
          allowDecimals: false,
          opposite: true,
          gridLineWidth: 0,
          title: {
              text: 'Followers',
              style: {
                  color: Highcharts.getOptions().colors[0]
              }
          },
          labels: {
{#          format: '{value} mm',#}
            style: {
                color: Highcharts.getOptions().colors[0]
            }
{#            overflow: 'justify'#}
          },
        }],
        plotOptions: {
          bar: {
            pointPadding: 0,
            borderWidth: 0,
            dataLabels: {
              enabled: true
            }
          }
        },
        legend: {
          reversed: true,
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'top',
          x: -40,
          y: 100,
          floating: true,
          borderWidth: 1,
          backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
          shadow: true
        },
        credits: {
          enabled: false
        },
        series: series
      });
    });

    {# TOP KEYWORDS #}
    $(function () {
      var series = [{
        name: 'Mentions',
        data: [639, 639, 639, 93, 639, 49, 17, 46, 29]
      }];

      $('#top-keywords').highcharts({
        chart: {
          type: "bar"
        },
        title: {
          text: "Top Keywords & Frequency within mentions"
        },
        xAxis: {
          categories: ['Total Posts', '@fordservice', 'ford', 'car', '@ford', 'dealer', '#ford', 'fusion', '&amp;'],
          title: {
            text: null
          }
        },
        yAxis: {
          min: 0,
          title: {
            text: 'Number of mentions',
            align: 'high'
          },
          labels: {
            overflow: 'justify'
          }
        },
        plotOptions: {
          bar: {
            pointPadding: 0,
            borderWidth: 0,
            dataLabels: {
              enabled: true
            }
          }
        },
        legend: {
          layout: 'vertical',
          align: 'right',
          verticalAlign: 'top',
          x: -40,
          y: 100,
          floating: true,
          borderWidth: 1,
          backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
          shadow: true
        },
        credits: {
          enabled: false
        },
        series: series
      });
    });
  </script>
{% endblock %}


{#<meta#}
{#  name="twitter:widgets:theme"#}
{#  content="light">#}

{#<meta#}
{#  name="twitter:widgets:link-color"#}
{#  content="#ff00ff">#}

{#<meta#}
{#  name="twitter:widgets:border-color"#}
{#  content="#ff00ff">#}

{#<meta name="twitter:dnt" content="on">#}

{#Set an oEmbed query parameter of hide_media=true or add a data-cards="hidden" attribute to the resulting <blockquote> element to prevent expanded content display.#}

{#Set an oEmbed query parameter of hide_thread=true or add a data-conversation="none" attribute to the resulting <blockquote> element to prevent the display of a parent Tweet.#}
